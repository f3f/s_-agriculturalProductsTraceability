/*!
 * Jusfoun Common Library v0.1.6
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vd@jusfoun.com
 *   http://vd.jusfoun.com
 * 
 * Copyright (c) 2017, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CommonLib",[],t):"object"==typeof exports?exports.CommonLib=t():e.CommonLib=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e,t){Object.defineProperty(e,"target",{configurable:!0,enumerable:!0,get:function(){return t},set:void 0})},o=function(){function e(t){n(this,e),this._target=t}return a(e,[{key:"addEventListener",value:function(e,t,i){var n=this;if(!e||"function"!=typeof t)throw new Error("Illegal parameters.");var a=n._mapKTypeVListenerTokens;void 0==a&&(a=n._mapKTypeVListenerTokens={});var r=a[e];void 0==r&&(r=a[e]=[]);var o={listener:t,thisArg:i};r.push(o)}},{key:"removeEventListener",value:function(e,t){var i=this;if(!e||"function"!=typeof t)throw new Error("Illegal parameters.");var n=i._mapKTypeVListenerTokens;if(void 0!=n){var a=n[e];if(void 0!=a){for(var r=[],o=0;o<a.length;o++){var l=a[o];l.listener==t&&(r.push(o),delete l.listener,delete l.thisArg)}for(var u=r.length-1;u>=0;u--)a.splice(r[u],1);a.length<1&&delete n[e]}}}},{key:"removeEventListeners",value:function(e){var t=this,i=t._mapKTypeVListenerTokens;if(void 0!=i)if(void 0==e)for(var n in i)i.hasOwnProperty(n)&&t.removeEventListeners(n);else{var a=i[e];if(void 0==a)return;for(var r=0;r<a.length;r++){var o=a[r];delete o.listener,delete o.thisArg}delete i[e]}}},{key:"hasEventListener",value:function(e,t){var i=this;if(!e)throw new Error("Illegal parameters.");var n=i._mapKTypeVListenerTokens;if(void 0==n)return!1;var a=n[e];if(void 0==t)return void 0!=a;for(var r=0;r<a.length;r++){if(a[r].listener==t)return!0}return!1}},{key:"dispatchEvent",value:function(e){var t=this;if(!e||!e.type)throw new Error("Illegal parameter event: "+e);var i=t._mapKTypeVListenerTokens;if(void 0!=i){var n=i[e.type];if(void 0!=n){r(e,t._target||t);for(var a=0;a<n.length;a++){var o=n[a];o.listener.call(o.thisArg,e)}}}}},{key:"on",value:function(e,t,i){this.addEventListener(e,t,i)}},{key:"off",value:function(e,t){var i=this;"function"==typeof t?i.removeEventListener(e,t):i.removeEventListeners(e)}},{key:"fire",value:function(e){this.dispatchEvent(e)}}]),e}();t.default=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=function(e){function t(e,i){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._intervalId=void 0,r._requestAnimationFrameFlag=!1,r._requestAnimationFrameCount=0,r._delay=void 0,r._repeatCount=0,r._currentCount=0;var o=r;return o._setIntervalHandler=o._setIntervalHandler.bind(o),o._requestAnimationFrameHandler=o._requestAnimationFrameHandler.bind(o),o.delay=e,o.repeatCount=i||0,r}return r(t,e),o(t,[{key:"_setIntervalHandler",value:function(){this._run()}},{key:"_requestAnimationFrameHandler",value:function(){var e=this;1==e._requestAnimationFrameCount&&e._run(),e._requestAnimationFrameCount<1&&e._requestAnimationFrameCount++,e._requestAnimationFrameFlag&&requestAnimationFrame(e._requestAnimationFrameHandler)}},{key:"_run",value:function(){var e=this;if(0!=e._repeatCount&&e._currentCount>=e._repeatCount)return e.stop(),void e.fire({type:"timerComplete"});e._currentCount++,e.fire({type:"timer"})}},{key:"reset",value:function(){var e=this;e.stop(),e._currentCount=0}},{key:"start",value:function(){var e=this;e.running||(-4132==e._delay&&"function"==typeof requestAnimationFrame?(e._requestAnimationFrameFlag=!0,requestAnimationFrame(e._requestAnimationFrameHandler)):e._delay>0&&(e._intervalId=setInterval(e._setIntervalHandler,e._delay)))}},{key:"stop",value:function(){var e=this;e.running&&(clearInterval(e._intervalId),e._intervalId=void 0,e._requestAnimationFrameFlag=!1,e._requestAnimationFrameCount=0)}},{key:"delay",get:function(){return this._delay},set:function(e){var t=this;if(t._delay!=e){if(isNaN(e)||!isFinite(e)||e<=0&&-4132!=e)throw new Error("Illegal delay value: "+e);return t._delay=e,t.running&&(t.stop(),t.start()),t}}},{key:"repeatCount",get:function(){return this._repeatCount},set:function(e){var t=this;if(t._repeatCount!=e){if(isNaN(e)||!isFinite(e)||e<0)throw new Error("Illegal repeat count value: "+e);return t._repeatCount=e,t}}},{key:"currentCount",get:function(){return this._currentCount}},{key:"running",get:function(){var e=this;return void 0!=e._intervalId||e._requestAnimationFrameFlag}}]),t}(u.default);s.REQUEST_ANIMATION_FRAME=-4132,t.default=s},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){n(this,e),this._timer=null,this._invalidatePropertiesQueue=[],this._invalidatePropertiesFlag=!1,this._invalidateSizeQueue=[],this._invalidateSizeFlag=!1,this._invalidateDisplayListQueue=[],this._invalidateDisplayListFlag=!1;var t=this;t._timer=new o.default(o.default.REQUEST_ANIMATION_FRAME,1),t._timer.on("timerComplete",t._timerCompleteHandler,t)}return a(e,[{key:"_timerCompleteHandler",value:function(e){var t=this;t._invalidatePropertiesFlag&&t._validateProperties(),t._invalidateSizeFlag&&t._validateSize(),t._invalidateDisplayListFlag&&t._validateDisplayList()}},{key:"invalidateProperties",value:function(e){var t=this;e&&"function"==typeof e.validateProperties&&(t._invalidatePropertiesQueue.push(e),t._invalidatePropertiesFlag=!0,t._timer.running||t._timer.start())}},{key:"invalidateSize",value:function(e){var t=this;e&&"function"==typeof e.validateSize&&(t._invalidateSizeQueue.push(e),t._invalidateSizeFlag=!0,t._timer.running||t._timer.start())}},{key:"invalidateDisplayList",value:function(e){var t=this;e&&"function"==typeof e.validateDisplayList&&(t._invalidateDisplayListQueue.push(e),t._invalidateDisplayListFlag=!0,t._timer.running||t._timer.start())}},{key:"validateClient",value:function(e){if(!e)throw new Error("Target is NULL.");"function"==typeof e.validateProperties&&e.validateProperties(),"function"==typeof e.validateSize&&e.validateSize(),"function"==typeof e.validateDisplayList&&e.validateDisplayList()}},{key:"_validateProperties",value:function(){for(var e=this;e._invalidatePropertiesQueue.length>0;){e._invalidatePropertiesQueue.pop().validateProperties()}e._invalidatePropertiesFlag=!1}},{key:"_validateSize",value:function(){for(var e=this;e._invalidateSizeQueue.length>0;){e._invalidateSizeQueue.pop().validateSize()}e._invalidateSizeFlag=!1}},{key:"_validateDisplayList",value:function(){for(var e=this;e._invalidateDisplayListQueue.length>0;){e._invalidateDisplayListQueue.pop().validateDisplayList()}e._invalidateDisplayListFlag=!1}}]),e}();t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiComponent=t.LayoutManager=t.Timer=t.EventDispatcher=void 0;var a=i(0),r=n(a),o=i(1),l=n(o),u=i(2),s=n(u),v=i(4),f=n(v);t.EventDispatcher=r.default,t.Timer=l.default,t.LayoutManager=s.default,t.UiComponent=f.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(0),s=n(u),v=i(2),f=n(v),d=new f.default,p=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._invalidatePropertiesFlag=!1,e._invalidateSizeFlag=!1,e._invalidateDisplayListFlag=!1,e._layoutManager=d,e._x=0,e._y=0,e._width=0,e._height=0,e}return o(t,e),l(t,[{key:"initialize",value:function(){}},{key:"invalidateProperties",value:function(){var e=this;e._invalidatePropertiesFlag||(e._invalidatePropertiesFlag=!0,(e._layoutManager||d).invalidateProperties(e))}},{key:"invalidateSize",value:function(){var e=this;e._invalidateSizeFlag||(e._invalidateSizeFlag=!0,(e._layoutManager||d).invalidateSize(e))}},{key:"invalidateDisplayList",value:function(){var e=this;e._invalidateDisplayListFlag||(e._invalidateDisplayListFlag=!0,(e._layoutManager||d).invalidateDisplayList(e))}},{key:"validateNow",value:function(){(this._layoutManager||d).validateClient(this)}},{key:"validateProperties",value:function(){var e=this;e._invalidatePropertiesFlag&&(e.commitProperties(),e._invalidatePropertiesFlag=!1)}},{key:"validateSize",value:function(){var e=this;e._invalidateSizeFlag&&(e.measure(),e._invalidateSizeFlag=!1)}},{key:"validateDisplayList",value:function(){var e=this;e._invalidateDisplayListFlag&&(e.updateDisplayList(),e._invalidateDisplayListFlag=!1)}},{key:"commitProperties",value:function(){}},{key:"measure",value:function(){}},{key:"updateDisplayList",value:function(){}},{key:"setStyle",value:function(){}},{key:"domElement",get:function(){}},{key:"x",get:function(){return this._x},set:function(e){var t=this;t._x!=e&&(t._x=e,t.invalidateProperties(),t.invalidateSize(),t.invalidateDisplayList())}},{key:"y",get:function(){return this._y},set:function(e){var t=this;t._y!=e&&(t._y=e,t.invalidateProperties(),t.invalidateSize(),t.invalidateDisplayList())}},{key:"width",get:function(){return this._width},set:function(e){var t=this;t._width!=e&&(t._width=e,t.invalidateProperties(),t.invalidateSize(),t.invalidateDisplayList())}},{key:"height",get:function(){return this._height},set:function(e){var t=this;t._height!=e&&(t._height=e,t.invalidateProperties(),t.invalidateSize(),t.invalidateDisplayList())}}]),t}(s.default);t.default=p}])});